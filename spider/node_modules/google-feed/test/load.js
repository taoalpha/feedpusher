var Should = require('should');
var GoogleFeed = require('../lib/index');

var feedPromise = GoogleFeed.load('http://lenta.ru/rss');

describe('#load', () => {
  'use strict';

  it('results should be an object', (done) => {
    feedPromise.then((results) => {
      results.should.be.an.instanceOf(Object);
      done();
    });
  });

  it('results should have `feed` property', (done) => {
    feedPromise.then((results) => {
      results.should.have.property('feed');
      done();
    });
  });

  it('feed should be an object', (done) => {
    feedPromise.then((results) => {
      results.feed.entries.should.be.an.instanceOf(Object);
      done();
    });
  });

  it('entries should be an array', (done) => {
    feedPromise.then((results) => {
      results.feed.entries.should.be.an.instanceOf(Array);
      done();
    });
  });

  it('entry should be an object', (done) => {
    feedPromise.then((results) => {
      results.feed.entries[0].should.be.an.instanceOf(Object);
      done();
    });
  });
});
